function Controller(){require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="main",arguments[0]?arguments[0].__parentSymbol:null,arguments[0]?arguments[0].$model:null,arguments[0]?arguments[0].__itemTemplate:null;var t=this,e={};t.__views.window_main=Ti.UI.createWindow({id:"window_main",title:"Baya PointOfSale"});var i=[];t.__views.row_price=Ti.UI.createTableViewRow({id:"row_price",Title:"PRICE",backgroundColor:"white"}),i.push(t.__views.row_price),t.__views.price_tf=Ti.UI.createTextField({height:40,top:50,width:250,keyboardType:Titanium.UI.KEYBOARD_DECIMAL_PAD,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,hintText:"PRICE e.g. 350",id:"price_tf"}),t.__views.row_price.add(t.__views.price_tf),t.__views.save_price_button=Ti.UI.createButton({title:"Save",height:Ti.UI.SIZE,width:80,top:20,id:"save_price_button"}),t.__views.row_price.add(t.__views.save_price_button),t.__views.row_qty=Ti.UI.createTableViewRow({id:"row_qty",Title:"QTY",backgroundColor:"white"}),i.push(t.__views.row_qty),t.__views.qty_tf=Ti.UI.createTextField({height:40,top:50,width:250,keyboardType:Titanium.UI.KEYBOARD_DECIMAL_PAD,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,hintText:"QTY",id:"qty_tf"}),t.__views.row_qty.add(t.__views.qty_tf),t.__views.save_qty_button=Ti.UI.createButton({title:"Save",height:Ti.UI.SIZE,width:80,top:20,id:"save_qty_button"}),t.__views.row_qty.add(t.__views.save_qty_button),t.__views.row_item=Ti.UI.createTableViewRow({id:"row_item",Title:"Item Name",backgroundColor:"white"}),i.push(t.__views.row_item),t.__views.item_tf=Ti.UI.createTextField({height:40,top:50,width:250,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,hintText:"Hanami",id:"item_tf"}),t.__views.row_item.add(t.__views.item_tf),t.__views.save_item_button=Ti.UI.createButton({title:"Save",height:Ti.UI.SIZE,width:80,top:20,id:"save_item_button"}),t.__views.row_item.add(t.__views.save_item_button),t.__views.row_name=Ti.UI.createTableViewRow({id:"row_name",Title:"Customer Name",backgroundColor:"white"}),i.push(t.__views.row_name),t.__views.name_tf=Ti.UI.createTextField({height:40,top:50,width:250,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,hintText:"Customer e.g. Kasma Ahmad",id:"name_tf"}),t.__views.row_name.add(t.__views.name_tf),t.__views.save_name_button=Ti.UI.createButton({title:"Save",height:Ti.UI.SIZE,width:80,top:20,id:"save_name_button"}),t.__views.row_name.add(t.__views.save_name_button),t.__views.row_paid=Ti.UI.createTableViewRow({id:"row_paid",Title:"Paid",backgroundColor:"white"}),i.push(t.__views.row_paid),t.__views.paid_tf=Ti.UI.createTextField({height:40,top:50,width:250,keyboardType:Titanium.UI.KEYBOARD_DECIMAL_PAD,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,hintText:"Paid. e.g. 0",id:"paid_tf"}),t.__views.row_paid.add(t.__views.paid_tf),t.__views.save_paid_button=Ti.UI.createButton({title:"Save",height:Ti.UI.SIZE,width:80,top:20,id:"save_paid_button"}),t.__views.row_paid.add(t.__views.save_paid_button),t.__views.row_scan=Ti.UI.createTableViewRow({id:"row_scan",backgroundColor:"white"}),i.push(t.__views.row_scan),t.__views.label_scan=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"orange",text:"Press to Scan Item >",id:"label_scan",top:"5",left:"20"}),t.__views.row_scan.add(t.__views.label_scan),t.__views.row_picture=Ti.UI.createTableViewRow({id:"row_picture",backgroundColor:"white"}),i.push(t.__views.row_picture),t.__views.label_picture=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"gray",text:"Press to Take Picture >",id:"label_picture",top:"5",left:"20"}),t.__views.row_picture.add(t.__views.label_picture),t.__views.row_done=Ti.UI.createTableViewRow({id:"row_done",backgroundColor:"white"}),i.push(t.__views.row_done),t.__views.label_done=Ti.UI.createLabel({width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"#FF69B4",title:"Done & Save",font:{fontSize:"30dp"},text:"Done, Save & Next",id:"label_done",top:"5",left:"20"}),t.__views.row_done.add(t.__views.label_done),t.__views.table_main=Ti.UI.createTableView({backgroundColor:"white",data:i,id:"table_main"}),t.__views.window_main.add(t.__views.table_main),t.__views.tab_main=Ti.UI.createTab({font:{fontSize:"50dp",fontWeight:"bold",textStyle:Ti.UI.TEXT_STYLE_HEADLINE},width:Ti.UI.SIZE,height:Ti.UI.SIZE,color:"red",window:t.__views.window_main,id:"tab_main",title:"main",icon:"KS_nav_ui.png"}),t.__views.tab_main&&t.addTopLevelView(t.__views.tab_main),e.destroy=function(){},_.extend(t,t.__views);var r=arguments[0]||{};console.log("JSON main :"+JSON.stringify(r)),Titanium.App.Properties.setInt("barcode",0),t.save_price_button.addEventListener("click",function(){t.price_tf.blur();var e=t.price_tf.value;Titanium.App.Properties.setInt("price",e),t.save_price_button.hide()}),t.save_qty_button.addEventListener("click",function(){t.qty_tf.blur();var e=t.qty_tf.value;Titanium.App.Properties.setInt("qty",e),t.save_qty_button.hide()}),t.save_item_button.addEventListener("click",function(){t.item_tf.blur();var e=t.item_tf.value;Titanium.App.Properties.setString("item",e),Titanium.App.Properties.setInt("barcode",0),t.save_item_button.hide()}),t.save_name_button.addEventListener("click",function(){t.name_tf.blur();var e=t.name_tf.value;Titanium.App.Properties.setString("name",e),t.save_name_button.hide()}),t.save_paid_button.addEventListener("click",function(){t.paid_tf.blur();var e=t.paid_tf.value;Titanium.App.Properties.setInt("paid",e),t.save_paid_button.hide()}),t.label_done.addEventListener("click",function(){var t=new Date;Titanium.App.Properties.getString("barcode")||"Not Scanned";var e=Titanium.App.Properties.getInt("price",e),i=Titanium.App.Properties.getInt("qty",i),r=Titanium.App.Properties.getString("item",r),o=Titanium.App.Properties.getString("name",o),a=Titanium.App.Properties.getInt("paid",a);alert("On "+t+" : sold "+i+" unit(s) of "+r+" at RM"+e+" to "+o+". RM"+a+" was paid. Barcode is "+Titanium.App.Properties.getString("barcode")+" . Do not forget to say thanks! Alhamdulillah.");var n=Ti.Filesystem.getFile(Ti.Filesystem.tempDirectory,"sale.csv"),s=Ti.Filesystem.getFile(Ti.Filesystem.tempDirectory,"sale.txt");n.write(t+" , "+r+" , "+i+" , "+e+" , "+o+" , "+a+" , "+Titanium.App.Properties.getString("barcode")+"\n",!0),s.write(t+" , "+r+" , "+i+" , "+e+" , "+o+" , "+a+" , "+Titanium.App.Properties.getString("barcode")+"\n",!0)}),t.name_tf.addEventListener("focus",function(){t.save_name_button.show()}),t.qty_tf.addEventListener("focus",function(){t.save_qty_button.show()}),t.item_tf.addEventListener("focus",function(){t.save_item_button.show()}),t.price_tf.addEventListener("focus",function(){t.save_price_button.show()}),t.paid_tf.addEventListener("focus",function(){t.save_paid_button.show()}),t.label_scan.addEventListener("click",function(){var e=Alloy.createController("scan");e.openMainWindow(t.tab_main)}),t.table_main.addEventListener("click",function(){t.name_tf.blur(),t.qty_tf.blur(),t.item_tf.blur(),t.price_tf.blur(),t.paid_tf.blur()}),_.extend(t,e)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;